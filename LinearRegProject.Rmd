---
title: "LinearRegProject"
author: "Nan Zhang, Lichun He, Yuqi Zhang"
date: "11/10/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Should This Loan be Approved or Denied?

## Setup
```{r}
# Setup
library(lubridate)
library(tidyverse)
library(broom)

SBAnational_raw <- read.csv(file = "SBAnational.csv", header = T)
head(SBAnational_raw, 5)
nrow(SBAnational_raw)
```
## Section 1: Pre-Process

### Section 1.1: Data Cleaning
```{r}
# Remove the outdated data (before 2000)
SBAnational <- SBAnational_raw %>% 
  mutate(DisbursementDate = dmy(DisbursementDate)) %>% 
  filter( LowDoc %in% c("Y", "N"),
          year(DisbursementDate) >= 2000,
          State =="NY")
nrow(SBAnational)
#apply(is.na(SBAnational), 2, sum)
```

### Section 1.2: Values Replacing
```{r}
rmSym <- function(string){
  string <- substr(string, start = 2, stop = nchar(string))
  return(string)
}
# DisbursementGross
SBAnational$DisbursementGross <- 
  as.numeric(gsub(",","", rmSym(SBAnational$DisbursementGross)))

# BalanceGross
SBAnational$BalanceGross <- 
  as.numeric(gsub(",","", rmSym(SBAnational$BalanceGross)))

# GrAppv
SBAnational$GrAppv <- as.numeric(gsub(",","", rmSym(SBAnational$GrAppv)))

# SBA_Appv
SBAnational$SBA_Appv <- as.numeric(gsub(",","", rmSym(SBAnational$SBA_Appv)))

#apply(is.na(SBAnational), 2, sum)
```

### Section 1.3: Data Re-format/Transformation
```{r}

```

## Section 2: Explore the Variables

### Section 2.1: NAICS v.s Each industry default rate
```{r}

```

### Section 2.2: New Exist v.s Each industry default rate
```{r}

```

### Section 2.3: Y v.s X3 ...
```{r}

```

## Section 3: Fit Linear Model

### Section 3.1: ...
```{r}

```

### Section 3.2: ...
```{r}

```

### Section 3.3: ...
```{r}

```

### Section 3.4: Summary
```{r}

```

## Section 4: Residuals

### Section 4.1: ...
```{r}

```

### Section 4.2: ...
```{r}

```

### Section 4.3: ...
```{r}

```

## Section 5: Testing/Validation

### Section 5.1: ...
```{r}

```

### Section 5.2: ...
```{r}

```

### Section 5.3: ...
```{r}

```

## Section 6: Prediction

### Section 6.1: ...
```{r}

```

### Section 6.2: ...
```{r}

```

### Section 6.3: ...
```{r}

```

## Section 7: Conclusion
